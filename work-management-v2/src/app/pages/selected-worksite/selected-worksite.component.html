<div class="flex-container">
  <ng-container *ngIf="mostRecentWorksite$ | async as recent; else noInfo">
    <app-worksite-info-card
      [title]="recent.name"
      [bgBlue]="true"
    ></app-worksite-info-card>
  </ng-container>
</div>

<div class="sec small-cards">
  <ng-container *ngIf="total$ | async as total; else nocard1">
    <app-small-card
      [end]="true"
      [title]="'Total hours'"
      [value]="total"
    ></app-small-card>
  </ng-container>

  <ng-container *ngIf="totalForDay$ | async as currentDay; else loading2">
    <ng-container *ngIf="isCurrentDayTotalString(currentDay)">
      <app-small-card
      [start]="true"
      [title]="'Current day'"
    ></app-small-card>
    </ng-container>
    <ng-container *ngIf="isCurrentDayTotalNumber(currentDay)">
      <app-small-card
        [start]="true"
        [title]="'Current day'"
        [value]="convertToNumber(currentDay)"
      ></app-small-card>
    </ng-container>
  </ng-container>
</div>

<ng-container *ngIf="hours$ | async as hours">
  <app-hours-chart
    [label]="'Weekly hours'"
    [hoursArray]="hours"
    [labelArray]="labelArray"
  ></app-hours-chart>
</ng-container>

<!-- loading tempalates -->
<div class="flex-container">
  <ng-template #noInfo>
    <div class="card info-card">
      <h2>loading info</h2>
    </div>
  </ng-template>
</div>

<div class="sec small-cards">
  <ng-template #nocard1>
    <div class="end">
      <div class="card">
        <h2>loading card 1</h2>
      </div>
    </div>
  </ng-template>

  <ng-template #loading2>
    <div class="start">
      <div class="card">
        <h2>loading card 2</h2>
      </div>
    </div>
  </ng-template>
</div>
